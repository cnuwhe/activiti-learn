## 带用户信息的压力测试

用户提交作业时，会触发后台的如下操作：

+ Activiti：启动activiti流程
+ Gitlab：把作业详情提交到gitlab
+ 邮件服务：给用户发送邮件提醒
+ Mysql：插入作业信息

![](../pictures/commitWork.png)

邮件服务：使用了kafka，经测试能保证邮件正常发送，无数据丢失。

Gitlab: 把作业提交到gitlab，没有使用kafka，测试时当并发用户数大于3时，gitlab会出现数据丢失。

| 并发数        | Gitlab提交 |
|:-------------:|:-------------:|
| 3      |无丢失|
| 4     |有丢失（提交成功2个）|
| 5     |有丢失（提交成功3个）|
| 10     |有丢失（提交成功2个）|
| 100     |有丢失（提交成功2个） |



